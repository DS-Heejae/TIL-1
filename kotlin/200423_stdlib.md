# Kotlin stdlib functions

![stdlib](https://github.com/ksu3101/TIL/blob/master/kotlin/kotlin_stdlib1.png)

## 1. function basic

- apply, also : 객체(리시버)의 프로퍼티를 변경 하고 그 객체를 반환 할때.
- let, run : 객체(리시버) 자체 혹은 프로퍼티들을 이용해서 무엇인가를 하고 다른 객체를 반환 할 때.
- with : 결과 반환이 필요하지 않은 객체를 받아 무엇인가를 할 때.

```kotlin
// T is Receiver, block is lambda
inline fun <T> T.apply(block: T.() -> Unit): T { 
  block()
  return this 
}

inline fun <T> T.also(block: (T) -> Unit): T { 
  block(this)
  return this 
}

inline fun <T, R> T.let(block: (T) -> R): R { 
  return block(this) 
}

inline fun <T, R> T.run(block: T.() -> R): R { 
  return block() 
}

inline fun <T, R> with(receiver: T, block: T.() -> R): R { 
  return receiver.block() 
}
```
  
하단 예제 코드를 참고 하도록 하자. 
- `A.apply { this.b = "b" }.receiverACodes()...`
    ```kotlin    
    // 리시버의 프로퍼티만 변경할 수 있음 (but, it's variables only)
    val product = Product().apply {
        this.name = "Park"
        this.price = 100        
    }
    ```

- `A.also { a -> a.b = "b" }.receiverACodes()...`
    ```kotlin
    val product2 = Product().also() { product -> 
        product.name = "Lee"
        product.price = 125
    }
    ```

- `A?.let { a -> "b"}.returningBCodes()... `
    ```kotlin
    val result = product2.let { product ->
          product.name
    }
    println(result)
    ```

- `A.run { this.b = "b" ; this.b }.returningBCodes()...`
    ```kotlin
      val newPrice = product2.run { 
        this.price += 300
        this.price
    }
    println(newPrice)
    ```

- `val result = with(a) { this.b = "b"; this.b }`
    ```kotlin
    val newPrice2 = with(product2) {
        this.price += 125
        this.price
    }
    println(newPrice2)
    ```
   
